<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Account</title>

        <!--css-->
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <!--js bootstrap-->

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.17.1/dist/bootstrap-table.min.css">
        <script src="https://unpkg.com/bootstrap-table@1.17.1/dist/bootstrap-table.min.js"></script>
        <script src="https://kit.fontawesome.com/59d975929c.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="fontawesome/css/all.min.css">
        <script src="https://unpkg.com/bootstrap-show-password@1.2.1/dist/bootstrap-show-password.min.js"></script>
        <script src="jquery.min.js"></script>
        <script src="bootstrap.min.js"></script>
        <script src="bootstrap-show-password.js"></script>
        <script type="text/javascript" src="script/script.js"></script>
        <!--jquery light slider  -->
        <link type="text/css" rel="stylesheet" href="css/lightslider.css" />                  
        <script type="text/javascript" src="script/JQuery3.3.1.js"></script>
        <script type="text/javascript" src="script/lightslider.js"></script>
            <!--jquery search-->
            <link href="https://repo.rachmat.id/jquery-ui-1.12.1/jquery-ui.css" rel="stylesheet">
            <script type="text/javascript" src="https://repo.rachmat.id/jquery-ui-1.12.1/jquery-ui.js"></script>
            <script type="text/javascript" src="script/navbarscript.js"></script>
</head>
<body>
    <style>
        .card{
            width: 50%;
            margin-left: 25%;
        }
        body{
           background-color: cadetblue;
        }
    </style>
    <div class="container-md mt-5">
    <!-- Material form register -->
<div class="card">

    <h5 class="card-header info-color white-text text-center py-4">
        <strong>Sign up</strong>
    </h5>

    <!--Card content-->
    <div class="card-body px-lg-5 pt-0">

        <form
            oninput='up2.setCustomValidity(up2.value != up.value ? "Passwords do not match." : "")'>
            <div class="form-group">
              <label for="exampleInputname1" >Name</label>
              <input type="text" class="form-control" id="name"required name=un>
            </div>
            <div class="form-group">
              <label for="exampleInputname1" >Username</label>
              <input type="text" class="form-control" id="username"required name=un>
            </div>
              <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" required name=un>
                <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1" >Password</label>
                <input type="password" class="form-control" id="exampleInputPassword1" data-toggle="password" required name=up>
              </div>
              <div class="alert alert-warning password-alert" role="alert">
                <ul>
                  <li class="requirements leng"><i class="fas fa-check green-text"></i><i class="fas fa-times red-text"></i> Your password must have at least 8 chars.</li>
                  <li class="requirements big-letter"><i class="fas fa-check green-text"></i><i class="fas fa-times red-text"></i> Your password must have at least 1 uppercase letter.</li>
                  <li class="requirements num"><i class="fas fa-check green-text"></i><i class="fas fa-times red-text"></i> Your password must have at least 1 number.</li>
                </ul>
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1">Reenter Password</label>
                <input type="password" class="form-control" id="exampleInputPassword2" data-toggle="password" name=up2>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="submitRegister()">Register</button>
              </div>
            </form>

    </div>

</div>
<!-- Material form register -->
</div>

        <script>
          function submitRegister(){
            var xmlhttp = new XMLHttpRequest();

            var name = document.getElementById("name").value;
            console.log(name);
            var username = document.getElementById("username").value;
            var email = document.getElementById("exampleInputEmail1").value;
            var password = document.getElementById("exampleInputPassword1").value;

            var param = "name="+name+"&username="+username+"&email="+email+"&password="+password;
          
            xmlhttp.onreadystatechange = function(){
                if(this.readyState == 4 && this.status == 200){
                    console.log(xmlhttp.response);

                    if(xmlhttp.response = 1){
                      setTimeout(function(){
                        window.location.replace('/'); 
                      }, 100);
                    }
                    else {
                      alert("Gagal Register");
                    }
                }
            }
            
            xmlhttp.open("POST","http://localhost/JelajahJakarta/Register.php",true);
            xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xmlhttp.send(param);
          }
        </script>


</body>
</html>